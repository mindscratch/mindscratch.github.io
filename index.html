    <!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title> craig wickesser &middot; craig wickesser </title>
    
    <link rel="stylesheet" type="text/css" href="http://craigwickesser.com/css/uno.min.css" />
    <link rel="stylesheet" type="text/css" href="http://craigwickesser.com/css/lightGallery.css" />
    
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://craigwickesser.com/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="http://craigwickesser.com/favicon.ico">
    
    <link href="http://craigwickesser.com/index.xml/" rel="alternate" type="application/rss+xml" title="craig wickesser" />
    
    <script src="http://craigwickesser.com/js/jquery.min.js"></script>
    <script src="http://craigwickesser.com/js/main.min.js">
    </script>
</head>

    <body>
        <span class="mobile btn-mobile-menu">
        <i class="fa fa-bars btn-mobile-menu__icon"></i>
        <i class="fa fa-times btn-mobile-close__icon hidden"></i>
    </span>
<header class=" panel-cover "  style="background-image: url(/images/monster.jpg)" >
    <div class="panel-main">
        <div class="panel-main__inner panel-inverted">
            <div class="panel-main__content"> 
                <a href="http://craigwickesser.com" title="link to homepage for craig wickesser"> <img src="http://craigwickesser.com/images/Mindscratch_150.png" width="80" alt="craig wickesser logo" class="panel-cover__logo logo" /> </a> 
                <h1 class="panel-cover__title panel-title">
                    <a href="http://craigwickesser.com" title="link to homepage for craig wickesser">craig wickesser</a>
                </h1>
                <hr class="panel-cover__divider" />
                <p class="panel-cover__description">  scratch space  </p>
                <hr class="panel-cover__divider panel-cover__divider--secondary" />
                <div class="navigation-wrapper">
                    <nav class="cover-navigation cover-navigation--primary">
                        <ul class="navigation">
                            <li class="navigation__item"><a href="http://craigwickesser.com/#blog" title="link to craig wickesser blog" class="blog-button">Blog</a> </li>
                            </br>  </ul>
                    </nav> <nav class="cover-navigation navigation--social">
    <ul class="navigation"> 
        
        <li class="navigation__item">
            <a href="http://twitter.com/mind_scratch" title="@mind_scratch on Twitter"> <i class='fa fa-tt'></i> <span class="label">Twitter</span> </a>
        </li>   
        
        <li class="navigation__item">
            <a href="https://github.com/mindscratch" title="mindscratch on github"> <i class='fa fa-github'></i> <span class="label">Github</span> </a>
        </li>  </br>   
        
        <li class="navigation__item">
            <a href="mailto:codecraig@gmail.com" title="Email codecraig@gmail.com"> <i class='fa fa-envelope-o'></i> <span class="label">Email</span> </a>
        </li>  </ul>
</nav>
 </div>
            </div>
        </div>
        <div class="panel-cover--overlay"></div>
    </div>
</header>

        <div class="content-wrapper">
            <div class="content-wrapper__inner">
                <section id="main">
                    <div>
                        
                            
                                <article class="post">
<header>
<h2><a href="http://craigwickesser.com/post/golang-http-to-many-open-files/">Go HTTP: Too Many Open Files </a> </h2>
<div class="post-meta">Wed, Jan 7, 2015 - Read in 2 Min </div>
</header>
<div class="summary">
    I recently had a situation where an application I was working on in Go would run into the &ldquo;too many open files&rdquo; error. After some debugging, I discovered it wasn&rsquo;t closing HTTP connections being made to an HTTP server. The code looked like this: transport := &amp;http.Transport { Proxy: http.ProxyFromEnvironment, Dial: (&amp;net.Dialer{ Timeout: 0, KeepAlive: 0 }).Dial, TLSHandshakeTimeout: 10 * time.second } httpClient := &amp;http.Client{Transport: transport} function submitData(url string, fileReader io.Reader) error { req, reqErr := http.NewRequest(&quot;POST&quot;, url, fileReader) if reqErr != nil { return reqErr } req.Header.Set(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;) resp, err := httpClient.Do(req) if err != nil { return err } defer resp.Body.Close() // read the body return nil } The submitData function gets called over and over whenever new data needs to be POSTed.
</div>
<footer>
<a href='http://craigwickesser.com/post/golang-http-to-many-open-files/'><nobr>Read more →</nobr></a>
</footer>
</article>


                            
                        
                            
                                <article class="post">
<header>
<h2><a href="http://craigwickesser.com/post/post-data-to-load-test-with-apachebench/">POST Data to Load Test with ApacheBench </a> </h2>
<div class="post-meta">Sat, Jan 3, 2015 - Read in 2 Min </div>
</header>
<div class="summary">
    ApacheBench (also known as, ab) is, a tool for benchmarking your Apache Hypertext Transfer Protocol (HTTP) server Don&rsquo;t be fooled, you can use it to benchmark any server that supports HTTP. In fact, it might be worth checking out boom which is written in Go which makes it easier to use across platforms, and is simple to install (spoiler alert: it&rsquo;s just a binary). Anyhow, in this post I&rsquo;ll demonstrate using ApacheBench (since I came across it first).
</div>
<footer>
<a href='http://craigwickesser.com/post/post-data-to-load-test-with-apachebench/'><nobr>Read more →</nobr></a>
</footer>
</article>


                            
                        
                            
                                <article class="post">
<header>
<h2><a href="http://craigwickesser.com/post/capture-stdout-in-go/">Capture STDOUT in Go </a> </h2>
<div class="post-meta">Fri, Jan 2, 2015 - Read in 2 Min </div>
</header>
<div class="summary">
    Capturing output written to STDOUT (standard output) can be accomplished with the following code. import ( &quot;bytes&quot; &quot;io&quot; &quot;os&quot; ) // not thread safe func captureStdout(f func()) string { old := os.Stdout r, w, _ := os.Pipe() os.Stdout = w f() w.Close() os.Stdout = old var buf bytes.Buffer io.Copy(&amp;buf, r) return buf.String() } The code here is fairly straight forward. First, a reference to the Writer that&rsquo;s assigned to os.Stdout is stashed for later.
</div>
<footer>
<a href='http://craigwickesser.com/post/capture-stdout-in-go/'><nobr>Read more →</nobr></a>
</footer>
</article>


                            
                        
                            
                                <article class="post">
<header>
<h2><a href="http://craigwickesser.com/post/windows-8-thoughts/">Thoughts on Windows 8 </a> </h2>
<div class="post-meta">Sun, Dec 28, 2014 - Read in 3 Min </div>
</header>
<div class="summary">
    My son received a laptop, his first, for Christmas. It&rsquo;s an ASUS running Windows 8. To date, he&rsquo;s only used Apple laptops, iPad, iPhone Touch and Galaxy S3/4&frasl;5 Android phones at home. I helped setup the laptop and the first thing I noticed was the &ldquo;app&rdquo; centric user interface. I noticed he seemed to be able to navigate around rather easily and wasn&rsquo;t getting lost. The &ldquo;app&rdquo; centric focus of the operating system is compelling and I believe a win for Microsoft in terms of aligning with the younger generation.
</div>
<footer>
<a href='http://craigwickesser.com/post/windows-8-thoughts/'><nobr>Read more →</nobr></a>
</footer>
</article>


                            
                        
                            
                                <article class="post">
<header>
<h2><a href="http://craigwickesser.com/post/starting-a-new-go-project/">Starting a new Go project </a> </h2>
<div class="post-meta">Tue, Dec 9, 2014 - Read in 1 Min </div>
</header>
<div class="summary">
    I have the need for a program that can monitor Kubernetes* for services* and update an HAProxy* configuration file when changes occur. Sounds rather simple, however, there&rsquo;s a slight twist. I don&rsquo;t want to simply add entries to HAProxy for each service created in Kubernetes (it also wouldn&rsquo;t work as multiple services in Kubernetes could have the same port, since each service has its own IP address). Instead I need a way to define a set of rules, perhaps as simple as a template, that will be used to update the HAProxy configuration file intelligently.
</div>
<footer>
<a href='http://craigwickesser.com/post/starting-a-new-go-project/'><nobr>Read more →</nobr></a>
</footer>
</article>


                            
                        
                    </div>
                    </br>
                    <h4>
                        <a href="http://craigwickesser.com/post/">Archive</a>
                    </h4>
                </section>
            </div>
        </div>
        <footer class="footer"></footer>

        
    </body>
</html>
